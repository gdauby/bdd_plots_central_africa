% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions_manip_db.R
\name{query_plots}
\alias{query_plots}
\title{List, extract and map selected plots and associated individuals}
\usage{
query_plots(
  plot_name = NULL,
  tag = NULL,
  country = NULL,
  locality_name = NULL,
  method = NULL,
  extract_individuals = FALSE,
  map = FALSE,
  id_individual = NULL,
  id_plot = NULL,
  id_tax = NULL,
  id_specimen = NULL,
  show_multiple_census = FALSE,
  show_all_coordinates = FALSE,
  remove_ids = TRUE,
  collapse_multiple_val = FALSE,
  extract_traits = TRUE,
  extract_individual_features = TRUE,
  traits_to_genera = FALSE,
  wd_fam_level = FALSE,
  include_liana = FALSE,
  extract_subplot_features = TRUE,
  concatenate_stem = FALSE,
  remove_obs_with_issue = TRUE
)
}
\arguments{
\item{plot_name}{Optional. A single string specifying plot name.}

\item{tag}{Optional. Tag identifier.}

\item{country}{Optional. A single string specifying country.}

\item{locality_name}{Optional. A single string specifying locality name.}

\item{method}{Optional. Method identifier.}

\item{extract_individuals}{Logical. Whether to extract individuals. Optional.}

\item{map}{Logical. Whether to generate map. Optional.}

\item{id_individual}{Optional. Individual identifiers.}

\item{id_plot}{Optional. Plot identifiers.}

\item{id_tax}{Optional. Taxonomic identifiers.}

\item{id_specimen}{Optional. Specimen identifiers.}

\item{show_multiple_census}{Logical. Whether to show multiple census data. Optional.}

\item{show_all_coordinates}{Logical. Whether to show all coordinates. Optional.}

\item{remove_ids}{Logical. Whether to remove ID columns from output. Optional.}

\item{collapse_multiple_val}{Logical. Whether to collapse multiple values. Optional.}

\item{extract_traits}{Logical. Whether to extract taxonomic traits. Optional.}

\item{extract_individual_features}{Logical. Whether to extract individual-level features. Optional.}

\item{traits_to_genera}{Logical. Whether to aggregate traits to genus level. Optional.}

\item{wd_fam_level}{Logical. Whether to use family-level wood density. Optional.}

\item{include_liana}{Logical. Whether to include lianas. Optional.}

\item{extract_subplot_features}{Logical. Whether to extract subplot features. Optional.}

\item{concatenate_stem}{Logical. Whether to concatenate multiple stems. Optional.}

\item{remove_obs_with_issue}{Logical. Whether to remove observations with issues. Optional.}
}
\value{
A tibble of plots or individuals if extract_individuals is TRUE

A list or data frame containing plot data and associated information. When multiple 
components are requested, returns a list with elements like `extract`, `census_features`, 
`coordinates`, and `coordinates_sf`. If only one component is available, returns that 
component directly. Returns `NA` if no plots are found matching the criteria.
}
\description{
This function queries a PostgreSQL inventory database to return a list of forest plots or individuals, 
with options to include associated traits and metadata, and to generate interactive maps.
}
\details{
This function queries a PostgreSQL inventory database to return a list of forest plots or individuals, 
with options to include associated traits and metadata, and to generate maps.
}
\examples{
\dontrun{
  get_plot_data(country = "Gabon", extract_individuals = TRUE, map = TRUE)
}

\dontrun{
  query_plots(country = "Gabon", extract_individuals = FALSE)
  
  query_plots(country = "Cameroon")
  
  query_plots(plot_name = "mbalmayo001")
}


}
\author{
Gilles Dauby, \email{gilles.dauby@ird.fr}
}
