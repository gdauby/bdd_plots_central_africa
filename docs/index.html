<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Exploring and updating the Central Africa plot database â€¢ plotsdatabase</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Exploring and updating the Central Africa plot database">
<meta name="description" content="Exploring and updating the database containing plot data from Central Africa. This package contains several function for manipulating tree inventories data from Central Africa. Access is restricted.">
<meta property="og:description" content="Exploring and updating the database containing plot data from Central Africa. This package contains several function for manipulating tree inventories data from Central Africa. Access is restricted.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">plotsdatabase</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="plotsdatabase">plotsdatabase<a class="anchor" aria-label="anchor" href="#plotsdatabase"></a>
</h1></div>
<blockquote>
<p>R package for exploring and updating the Central African forest plot database <a href="https://cafriplot.net/" class="external-link">cafriplot network</a></p>
</blockquote>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>plotsdatabase</code> provides tools for querying, analyzing, and updating a PostgreSQL database containing forest plot and transect data from Central Africa. The package offers comprehensive functions for working with individual tree measurements, taxonomic traits, and ecological features across multiple research plots.</p>
<p><strong>Key features:</strong> - Query plot data, individual tree measurements, and ecological features - Access and aggregate species-level taxonomic traits - Update database tables with new measurements and observations - Resolve taxonomic synonyms and link trait data across hierarchy levels - Visualize database structure and relationships</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tidyverse"</span>, <span class="st">"dbplyr"</span>, <span class="st">"devtools"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"gdauby/bdd_plots_central_africa"</span><span class="op">)</span></span></code></pre></div>
<p>In case of slow internet connection, the installation from github above may fail. You may try to first launch this code line in the console, it will increase the time for trying to install :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>timeout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">3000</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"timeout"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note:</strong> Access to the database is restricted and requires appropriate credentials.</p>
</div>
<div class="section level2">
<h2 id="database-architecture">Database Architecture<a class="anchor" aria-label="anchor" href="#database-architecture"></a>
</h2>
<p>The package connects to two PostgreSQL databases:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Main database</strong> (<code>plots_transects</code>): Plot, subplot, and individual tree data</li>
<li>
<strong>Taxa database</strong> (<code>rainbio</code>): Taxonomic information and species-level traits (READ-ONLY)</li>
</ol>
<div class="section level3">
<h3 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">plotsdatabase</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Connect to databases</span></span>
<span><span class="va">mydb</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/call.mydb.html">call.mydb</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mydb_taxa</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/call.mydb.taxa.html">call.mydb.taxa</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize database structure</span></span>
<span><span class="fu"><a href="reference/get_database_fk.html">get_database_fk</a></span><span class="op">(</span><span class="va">mydb</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Query plots</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_plots.html">query_plots</a></span><span class="op">(</span>plot_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Query taxa-level traits</span></span>
<span><span class="va">traits</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_taxa_traits.html">query_taxa_traits</a></span><span class="op">(</span></span>
<span>  idtax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12345</span>, <span class="fl">67890</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"wide"</span>,</span>
<span>  add_taxa_info <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Query individual tree features</span></span>
<span><span class="va">indiv</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_individual_features.html">query_individual_features</a></span><span class="op">(</span></span>
<span>  plot_ids <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  trait_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"wide"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="core-functions">Core Functions<a class="anchor" aria-label="anchor" href="#core-functions"></a>
</h2>
<div class="section level3">
<h3 id="connection-management">Connection Management<a class="anchor" aria-label="anchor" href="#connection-management"></a>
</h3>
<ul>
<li>
<code><a href="reference/call.mydb.html">call.mydb()</a></code> - Connect to main database</li>
<li>
<code><a href="reference/call.mydb.taxa.html">call.mydb.taxa()</a></code> - Connect to taxa database</li>
<li>
<code><a href="reference/cleanup_connections.html">cleanup_connections()</a></code> - Close all connections</li>
<li>
<code><a href="reference/db_diagnostic.html">db_diagnostic()</a></code> - Database connection diagnostics</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-querying">Data Querying<a class="anchor" aria-label="anchor" href="#data-querying"></a>
</h3>
<ul>
<li>
<code><a href="reference/query_plots.html">query_plots()</a></code> - Query plot metadata</li>
<li>
<code><a href="reference/query_individual_features.html">query_individual_features()</a></code> - Query individual tree measurements</li>
<li>
<code><a href="reference/query_taxa_traits.html">query_taxa_traits()</a></code> - Query species-level traits</li>
<li>
<code><a href="reference/query_plot_features.html">query_plot_features()</a></code> - Query plot-level features</li>
</ul>
</div>
<div class="section level3">
<h3 id="utilities">Utilities<a class="anchor" aria-label="anchor" href="#utilities"></a>
</h3>
<ul>
<li>
<code><a href="reference/get_database_fk.html">get_database_fk()</a></code> - Visualize database schema and relationships</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<ul>
<li>
<strong>Function help</strong>: Use <code>?function_name</code> for detailed documentation</li>
<li>
<strong>Changelog</strong>: See <a href="NEWS.html">NEWS.md</a> for version history and updates</li>
</ul>
</div>
<div class="section level2">
<h2 id="recent-updates">Recent Updates<a class="anchor" aria-label="anchor" href="#recent-updates"></a>
</h2>
<p>See <a href="NEWS.html">NEWS.md</a> for the latest changes, including: - Breaking changes and migration guides - New features and enhancements - Bug fixes and improvements</p>
</div>
<div class="section level2">
<h2 id="package-metadata">Package Metadata<a class="anchor" aria-label="anchor" href="#package-metadata"></a>
</h2>
<ul>
<li>
<strong>Version:</strong> 1.0</li>
<li>
<strong>Authors:</strong> Gilles Dauby, Hugo Leblanc</li>
<li>
<strong>Maintainer:</strong> Gilles Dauby (<a href="mailto:gilles.dauby@ird.fr" class="email">gilles.dauby@ird.fr</a>)</li>
<li>
<strong>License:</strong> GPL-2</li>
<li>
<strong>Minimum R version:</strong> 4.0</li>
</ul>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>This package follows a git branching workflow: - All code changes are made on feature branches - Changes are documented in NEWS.md - Pull requests are reviewed before merging to master</p>
<p>See <code>CLAUDE.md</code> for development workflow details.</p>
</div>
<div class="section level2">
<h2 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a>
</h2>
<p>For issues, questions, or feature requests, contact the package maintainer.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing plotsdatabase</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Gilles Dauby <br><small class="roles"> Maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gilles Dauby.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
